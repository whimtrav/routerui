import{d as sa,f as o,a as s,c as it,s as _,b as At}from"../chunks/DhZLAEWt.js";import{o as ia}from"../chunks/D-tgmMSQ.js";import{p as na,s as A,a as oa,f as h,c as e,d as r,t as L,b as va,e as la,$ as da,r as a,g as t,h as J,n as Ut}from"../chunks/N1otwjTT.js";import{i as x}from"../chunks/CWp393YG.js";import{e as Lt,i as Mt}from"../chunks/CxGl9W59.js";import{h as ca,s as W}from"../chunks/DtPs97YY.js";import{r as St,a as pa}from"../chunks/uT__Kkxm.js";import{b as Ft,a as _a}from"../chunks/DLE3Upo7.js";var xa=o('<div class="text-gray-400">Loading...</div>'),ua=o('<span class="text-xs px-2 py-0.5 bg-green-500/20 text-green-400 rounded">Connected</span>'),ga=o('<span class="text-xs px-2 py-0.5 bg-yellow-500/20 text-yellow-400 rounded">Not Logged In</span>'),fa=o('<span class="text-xs px-2 py-0.5 bg-red-500/20 text-red-400 rounded">Not Running</span>'),ya=o('<span class="text-xs text-gray-500"> </span>'),ba=o('<p class="text-gray-400">Tailscale is not installed.</p>'),ma=o('<div class="mt-4 p-4 bg-blue-500/10 border border-blue-500/30 rounded"><p class="text-sm text-blue-400 mb-2">Open this URL to authenticate:</p> <a target="_blank" class="text-blue-400 underline break-all text-sm"> </a> <p class="text-xs text-gray-500 mt-2">After logging in, this page will update automatically.</p></div>'),ha=o('<div class="space-y-4"><p class="text-gray-400">Connect this router to your Tailscale network for remote access.</p> <div class="grid grid-cols-2 gap-4"><div><label class="block text-sm text-gray-400 mb-1">Hostname</label> <input type="text" placeholder="router" class="w-full bg-gray-700 text-white rounded px-3 py-2 text-sm"/></div> <div><label class="block text-sm text-gray-400 mb-1">Advertise Routes (LAN)</label> <input type="text" placeholder="10.22.22.0/24" class="w-full bg-gray-700 text-white rounded px-3 py-2 text-sm"/></div></div> <label class="flex items-center gap-2"><input type="checkbox" class="rounded"/> <span class="text-sm">Advertise as exit node (route all phone traffic through home)</span></label> <button class="btn-primary svelte-awi8zj"> </button> <!></div>'),wa=o('<span class="text-xs px-2 py-1 bg-gray-700 rounded font-mono"> </span>'),Na=o('<div class="mb-4"><p class="text-xs text-gray-400 mb-1">Advertised Routes</p> <div class="flex gap-2"></div></div>'),ka=o('<div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-4"><div class="bg-gray-700/50 rounded p-3"><p class="text-xs text-gray-400">Tailscale IP</p> <p class="font-mono text-green-400"> </p></div> <div class="bg-gray-700/50 rounded p-3"><p class="text-xs text-gray-400">Hostname</p> <p class="font-medium"> </p></div> <div class="bg-gray-700/50 rounded p-3"><p class="text-xs text-gray-400">DNS Name</p> <p class="font-mono text-xs truncate"> </p></div> <div class="bg-gray-700/50 rounded p-3"><p class="text-xs text-gray-400">Exit Node</p> <p> </p></div></div> <!> <div class="flex gap-2"><button class="btn-secondary svelte-awi8zj"> </button> <button class="btn-secondary svelte-awi8zj">Network Diagnostics</button> <button class="btn-secondary svelte-awi8zj">Disconnect</button> <button class="btn-danger svelte-awi8zj">Logout</button></div>',1),Pa=At('<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M17.6 9.48l1.84-3.18c.16-.31.04-.69-.26-.85-.29-.15-.65-.06-.83.22l-1.88 3.24c-1.44-.66-3.05-1.03-4.77-1.03-1.72 0-3.33.37-4.77 1.03L5.05 5.67c-.18-.28-.54-.37-.83-.22-.31.16-.43.54-.26.85L5.8 9.48C2.65 11.25.84 14.28.84 17.66h22.32c0-3.38-1.81-6.41-4.96-8.18zM7.52 14c-.68 0-1.23-.54-1.23-1.21s.55-1.21 1.23-1.21c.68 0 1.23.54 1.23 1.21S8.2 14 7.52 14zm8.96 0c-.68 0-1.23-.54-1.23-1.21s.55-1.21 1.23-1.21c.68 0 1.23.54 1.23 1.21S17.16 14 16.48 14z"></path></svg>'),za=At('<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M12.504 0c-.155 0-.315.008-.48.021-4.226.333-3.105 4.807-3.17 6.298-.076 1.092-.3 1.953-1.05 3.02-.885 1.051-2.127 2.75-2.716 4.521-.278.832-.41 1.684-.287 2.489.117.779.456 1.511 1.038 2.1.49.51 1.064.875 1.647 1.16.547.27 1.095.48 1.565.66.415.159.752.291.97.407.293.156.515.292.64.456.114.154.18.335.18.553 0 .345-.105.615-.293.848-.188.23-.442.396-.738.515-.597.236-1.37.367-2.242.367-1.282 0-2.52-.214-3.592-.612-1.072-.397-1.97-.96-2.596-1.67-.313-.354-.556-.749-.693-1.17-.14-.423-.17-.872-.082-1.305.17-.893.758-1.79 1.58-2.528.823-.74 1.855-1.314 2.84-1.61.99-.297 1.92-.31 2.507-.068.595.245.933.68.895 1.175-.038.5-.44.92-1.02 1.2-.58.278-1.35.418-2.16.364-.45-.03-.855-.125-1.17-.27-.315-.145-.54-.338-.63-.56-.09-.22-.04-.475.133-.73.174-.256.48-.495.884-.65.404-.154.894-.222 1.38-.195.486.027.97.15 1.37.36.4.21.71.51.87.87.16.36.17.77.04 1.15-.13.38-.4.73-.78 1-.38.27-.86.45-1.38.53-.52.08-1.07.06-1.57-.06-.5-.12-.95-.34-1.31-.66-.36-.32-.62-.74-.75-1.22-.13-.48-.12-1.01.04-1.53.16-.52.46-1.01.88-1.43.42-.42.96-.77 1.58-1.02.62-.25 1.32-.39 2.06-.39.74 0 1.44.14 2.06.39.62.25 1.16.6 1.58 1.02.42.42.72.91.88 1.43.16.52.17 1.05.04 1.53-.13.48-.39.9-.75 1.22-.36.32-.81.54-1.31.66-.5.12-1.05.14-1.57.06-.52-.08-1-.26-1.38-.53-.38-.27-.65-.62-.78-1-.13-.38-.12-.79.04-1.15.16-.36.47-.66.87-.87.4-.21.88-.33 1.37-.36.49-.03.98.04 1.38.195.4.155.71.394.88.65.17.255.22.51.13.73-.09.22-.32.415-.63.56-.32.145-.72.24-1.17.27-.81.054-1.58-.086-2.16-.364-.58-.28-.98-.7-1.02-1.2-.04-.495.3-.93.895-1.175.587-.242 1.517-.23 2.507.068.985.296 2.017.87 2.84 1.61.822.738 1.41 1.635 1.58 2.528.088.433.058.882-.082 1.305-.137.421-.38.816-.693 1.17-.626.71-1.524 1.273-2.596 1.67-1.072.398-2.31.612-3.592.612-.872 0-1.645-.131-2.242-.367-.296-.12-.55-.285-.738-.515-.188-.233-.293-.503-.293-.848 0-.218.066-.399.18-.553.125-.164.347-.3.64-.456.218-.116.555-.248.97-.407.47-.18 1.018-.39 1.565-.66.583-.285 1.157-.65 1.647-1.16.582-.589.921-1.321 1.038-2.1.123-.805-.009-1.657-.287-2.489-.59-1.771-1.831-3.47-2.716-4.521-.75-1.067-.974-1.928-1.05-3.02-.065-1.491-1.056-5.965-3.17-6.298C12.82.008 12.66 0 12.504 0z"></path></svg>'),ja=At('<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M4 6h18V4H4c-1.1 0-2 .9-2 2v11H0v3h14v-3H4V6zm19 2h-6c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1zm-1 9h-4v-7h4v7z"></path></svg>'),Ta=o('<span class="text-xs px-1.5 py-0.5 bg-blue-500/20 text-blue-400 rounded">This device</span>'),Ca=o('<span class="text-xs px-1.5 py-0.5 bg-purple-500/20 text-purple-400 rounded">Exit Node</span>'),Va=o('<span class="mx-1">•</span> ',1),Ra=o('<span class="text-xs px-1.5 py-0.5 bg-yellow-500/20 text-yellow-400 rounded"> </span>'),Da=o('<span class="text-xs px-1.5 py-0.5 bg-green-500/20 text-green-400 rounded">Direct</span>'),Ba=o('<div class="text-xs text-gray-500 mt-1"> </div>'),La=o('<div class="flex items-center justify-between p-3 bg-gray-700/50 rounded"><div class="flex items-center gap-3"><div class="w-8 h-8 rounded-full bg-gray-600 flex items-center justify-center text-xs"><!></div> <div><div class="flex items-center gap-2"><span class="font-medium"> </span> <!> <!></div> <div class="text-xs text-gray-400"> <!></div></div></div> <div class="text-right"><div class="flex items-center gap-2"><!> <div></div></div> <!></div></div>'),Ma=o('<div class="card svelte-awi8zj"><h3 class="text-lg font-semibold mb-4">Connected Devices</h3> <div class="space-y-2"></div></div>'),Sa=o('<div class="text-gray-400">Running diagnostics...</div>'),Aa=o('<div class="flex justify-between text-sm"><span> </span> <span class="text-gray-400"> </span></div>'),Ea=o('<div><span class="text-xs text-gray-400">DERP Relay Latencies</span> <div class="mt-1 space-y-1 max-h-32 overflow-y-auto"></div></div>'),Ha=o('<div class="space-y-3"><div class="grid grid-cols-2 gap-3"><div class="bg-gray-700/50 rounded p-2"><span class="text-xs text-gray-400">UDP</span> <p> </p></div> <div class="bg-gray-700/50 rounded p-2"><span class="text-xs text-gray-400">IPv4</span> <p> </p></div> <div class="bg-gray-700/50 rounded p-2"><span class="text-xs text-gray-400">IPv6</span> <p> </p></div> <div class="bg-gray-700/50 rounded p-2"><span class="text-xs text-gray-400">Hair Pinning</span> <p> </p></div></div> <div class="bg-gray-700/50 rounded p-2"><span class="text-xs text-gray-400">Preferred DERP Relay</span> <p class="text-blue-400"> </p></div> <!></div>'),Ia=o('<div class="fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4"><div class="bg-gray-800 rounded-lg w-full max-w-lg"><div class="flex items-center justify-between p-4 border-b border-gray-700"><h3 class="text-lg font-semibold">Network Diagnostics</h3> <button class="text-gray-400 hover:text-white text-2xl">&times;</button></div> <div class="p-4"><!></div></div></div>'),Oa=o('<div class="space-y-4"><div class="card svelte-awi8zj"><div class="flex items-center justify-between mb-4"><h3 class="text-lg font-semibold flex items-center gap-2"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"></path></svg> Tailscale <!></h3> <!></div> <!></div> <!> <!></div>'),Ua=o('<span class="text-xs px-2 py-0.5 bg-green-500/20 text-green-400 rounded">Connected</span>'),Fa=o('<span class="text-xs px-2 py-0.5 bg-yellow-500/20 text-yellow-400 rounded">Connecting...</span>'),Ga=o('<span class="text-xs px-2 py-0.5 bg-gray-500/20 text-gray-400 rounded">Not Running</span>'),Ya=o(`<div class="text-center py-8"><svg class="w-16 h-16 mx-auto text-gray-600 mb-4" fill="currentColor" viewBox="0 0 24 24"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"></path></svg> <h4 class="text-lg font-medium text-gray-400 mb-2">Download VPN Not Configured</h4> <p class="text-sm text-gray-500 max-w-md mx-auto">The Gluetun container with NordVPN is not set up yet. This will be used to route
            torrent traffic through a VPN for privacy.</p> <p class="text-xs text-gray-600 mt-4">Set up the media stack (gluetun + qBittorrent + *arr apps) to enable this feature.</p></div>`),Ja=o('<div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-4"><div class="bg-gray-700/50 rounded p-3"><p class="text-xs text-gray-400">VPN IP</p> <p class="font-mono text-green-400"> </p></div> <div class="bg-gray-700/50 rounded p-3"><p class="text-xs text-gray-400">Provider</p> <p class="font-medium"> </p></div> <div class="bg-gray-700/50 rounded p-3"><p class="text-xs text-gray-400">Location</p> <p> </p></div> <div class="bg-gray-700/50 rounded p-3"><p class="text-xs text-gray-400">Forwarded Port</p> <p> </p></div></div> <div class="flex gap-2"><button class="btn-secondary svelte-awi8zj">Restart VPN</button></div>',1),qa=o('<div class="card svelte-awi8zj"><div class="flex items-center justify-between mb-4"><h3 class="text-lg font-semibold flex items-center gap-2"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"></path></svg> Download VPN (NordVPN) <!></h3></div> <!></div>'),Ka=o('<div class="space-y-6"><div><h2 class="text-2xl font-bold">VPN</h2> <p class="text-sm text-gray-500">Remote access and download VPN connections.</p></div> <div class="flex gap-2 border-b border-gray-700 pb-2"><button>Remote Access</button> <button>Download VPN</button></div> <!></div>');function re(Gt,Yt){na(Yt,!0);let Et=A(!0),nt=A("remote"),w=A(null),yt=A(oa([])),V=A(null),bt=A(!1),mt=A(!1),pt=A(""),E=A(null),Nt=A("10.22.22.0/24"),kt=A(!0),Pt=A("router");async function at(){var v;try{const u=await fetch("/api/vpn/overview");if(u.ok){const ot=await u.json();if(h(w,ot.tailscale,!0),h(E,ot.gluetun,!0),(v=t(w))!=null&&v.logged_in){const et=await fetch("/api/vpn/tailscale/devices");et.ok&&h(yt,await et.json(),!0)}}}catch(u){console.error(u)}finally{h(Et,!1)}}ia(()=>{at();const v=setInterval(at,1e4);return()=>clearInterval(v)});async function Jt(){h(mt,!0),h(pt,"");try{const v=await fetch("/api/vpn/tailscale/connect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({advertise_routes:t(Nt)||null,advertise_exit_node:t(kt),hostname:t(Pt)||null,accept_routes:!0})});if(v.ok){const u=await v.json();u.url&&h(pt,u.url,!0),setTimeout(at,3e3)}}finally{h(mt,!1)}}async function qt(){await fetch("/api/vpn/tailscale/disconnect",{method:"POST"}),await at()}async function Kt(){confirm("This will remove this device from the Tailscale network. Continue?")&&(await fetch("/api/vpn/tailscale/logout",{method:"POST"}),h(yt,[],!0),await at())}async function Qt(){const v=!t(w).exit_node_advertised;await fetch("/api/vpn/tailscale/exit-node",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({enable:v})}),await at()}async function Wt(){h(bt,!0),h(V,null);try{const v=await fetch("/api/vpn/tailscale/netcheck");v.ok&&h(V,await v.json(),!0)}catch(v){console.error(v)}}async function Xt(){await fetch("/api/vpn/gluetun/restart",{method:"POST"}),await new Promise(v=>setTimeout(v,3e3)),await at()}function Ht(v){if(!v)return"0 B";const u=1024,ot=["B","KB","MB","GB"],et=Math.floor(Math.log(v)/Math.log(u));return parseFloat((v/Math.pow(u,et)).toFixed(1))+" "+ot[et]}function It(v){if(!v)return"device";const u=v.toLowerCase();return u.includes("android")?"android":u.includes("ios")||u.includes("iphone")?"iphone":u.includes("windows")?"windows":u.includes("macos")||u.includes("darwin")?"apple":u.includes("linux")?"linux":"device"}var zt=Ka();ca("awi8zj",v=>{la(()=>{da.title="VPN - RouterUI"})});var jt=r(e(zt),2),Tt=e(jt);Tt.__click=()=>h(nt,"remote");var Ot=r(Tt,2);Ot.__click=()=>h(nt,"download"),a(jt);var Zt=r(jt,2);{var $t=v=>{var u=xa();s(v,u)},ta=v=>{var u=it(),ot=J(u);{var et=vt=>{var lt=Oa(),_t=e(lt),xt=e(_t),rt=e(xt),ut=r(e(rt),2);{var gt=l=>{var i=ua();s(l,i)},ht=l=>{var i=it(),f=J(i);{var y=g=>{var c=ga();s(g,c)},d=g=>{var c=fa();s(g,c)};x(f,g=>{var c;(c=t(w))!=null&&c.running?g(y):g(d,!1)},!0)}s(l,i)};x(ut,l=>{var i;(i=t(w))!=null&&i.logged_in?l(gt):l(ht,!1)})}a(rt);var Ct=r(rt,2);{var Vt=l=>{var i=ya(),f=e(i);a(i),L(()=>_(f,`v${t(w).version??""}`)),s(l,i)};x(Ct,l=>{var i;(i=t(w))!=null&&i.version&&l(Vt)})}a(xt);var Rt=r(xt,2);{var Dt=l=>{var i=ba();s(l,i)},Bt=l=>{var i=it(),f=J(i);{var y=g=>{var c=ha(),P=r(e(c),2),D=e(P),b=r(e(D),2);St(b),a(D);var z=r(D,2),C=r(e(z),2);St(C),a(z),a(P);var k=r(P,2),R=e(k);St(R),Ut(2),a(k);var B=r(k,2);B.__click=Jt;var H=e(B,!0);a(B);var q=r(B,2);{var X=m=>{var M=ma(),I=r(e(M),2),Z=e(I,!0);a(I),Ut(2),a(M),L(()=>{pa(I,"href",t(pt)),_(Z,t(pt))}),s(m,M)};x(q,m=>{t(pt)&&m(X)})}a(c),L(()=>{B.disabled=t(mt),_(H,t(mt)?"Connecting...":"Connect to Tailscale")}),Ft(b,()=>t(Pt),m=>h(Pt,m)),Ft(C,()=>t(Nt),m=>h(Nt,m)),_a(R,()=>t(kt),m=>h(kt,m)),s(g,c)},d=g=>{var c=ka(),P=J(c),D=e(P),b=r(e(D),2),z=e(b,!0);a(b),a(D);var C=r(D,2),k=r(e(C),2),R=e(k,!0);a(k),a(C);var B=r(C,2),H=r(e(B),2),q=e(H,!0);a(H),a(B);var X=r(B,2),m=r(e(X),2),M=e(m,!0);a(m),a(X),a(P);var I=r(P,2);{var Z=st=>{var S=Na(),O=r(e(S),2);Lt(O,21,()=>t(w).advertised_routes,Mt,(n,p)=>{var j=wa(),U=e(j,!0);a(j),L(()=>_(U,t(p))),s(n,j)}),a(O),a(S),s(st,S)};x(I,st=>{var S;((S=t(w).advertised_routes)==null?void 0:S.length)>0&&st(Z)})}var $=r(I,2),K=e($);K.__click=Qt;var Q=e(K);a(K);var tt=r(K,2);tt.__click=Wt;var dt=r(tt,2);dt.__click=qt;var ft=r(dt,2);ft.__click=Kt,a($),L(()=>{_(z,t(w).tailscale_ip||"N/A"),_(R,t(w).hostname||"N/A"),_(q,t(w).dns_name||"N/A"),W(m,1,t(w).exit_node_advertised?"text-green-400":"text-gray-400"),_(M,t(w).exit_node_advertised?"Enabled":"Disabled"),_(Q,`${t(w).exit_node_advertised?"Disable":"Enable"} Exit Node`)}),s(g,c)};x(f,g=>{var c;(c=t(w))!=null&&c.logged_in?g(d,!1):g(y)},!0)}s(l,i)};x(Rt,l=>{var i;(i=t(w))!=null&&i.installed?l(Bt,!1):l(Dt)})}a(_t);var wt=r(_t,2);{var T=l=>{var i=Ma(),f=r(e(i),2);Lt(f,21,()=>t(yt),Mt,(y,d)=>{var g=La(),c=e(g),P=e(c),D=e(P);{var b=n=>{var p=Pa();s(n,p)},z=n=>{var p=it(),j=J(p);{var U=Y=>{var ct=za();s(Y,ct)},F=Y=>{var ct=ja();s(Y,ct)};x(j,Y=>{It(t(d).os)==="linux"?Y(U):Y(F,!1)},!0)}s(n,p)};x(D,n=>{It(t(d).os)==="android"?n(b):n(z,!1)})}a(P);var C=r(P,2),k=e(C),R=e(k),B=e(R,!0);a(R);var H=r(R,2);{var q=n=>{var p=Ta();s(n,p)};x(H,n=>{t(d).is_current&&n(q)})}var X=r(H,2);{var m=n=>{var p=Ca();s(n,p)};x(X,n=>{t(d).is_exit_node&&n(m)})}a(k);var M=r(k,2),I=e(M),Z=r(I);{var $=n=>{var p=Va(),j=r(J(p));L(()=>_(j,` ${t(d).os??""}`)),s(n,p)};x(Z,n=>{t(d).os&&n($)})}a(M),a(C),a(c);var K=r(c,2),Q=e(K),tt=e(Q);{var dt=n=>{var p=Ra(),j=e(p);a(p),L(()=>_(j,`Relay: ${t(d).relay??""}`)),s(n,p)},ft=n=>{var p=it(),j=J(p);{var U=F=>{var Y=Da();s(F,Y)};x(j,F=>{t(d).online&&!t(d).is_current&&F(U)},!0)}s(n,p)};x(tt,n=>{t(d).relay?n(dt):n(ft,!1)})}var st=r(tt,2);a(Q);var S=r(Q,2);{var O=n=>{var p=Ba(),j=e(p);a(p),L((U,F)=>_(j,`↓${U??""} ↑${F??""}`),[()=>Ht(t(d).rx_bytes),()=>Ht(t(d).tx_bytes)]),s(n,p)};x(S,n=>{(t(d).rx_bytes||t(d).tx_bytes)&&n(O)})}a(K),a(g),L(()=>{_(B,t(d).name),_(I,`${t(d).tailscale_ip??""} `),W(st,1,`w-2 h-2 rounded-full ${t(d).online?"bg-green-500":"bg-gray-500"}`)}),s(y,g)}),a(f),a(i),s(l,i)};x(wt,l=>{var i;(i=t(w))!=null&&i.logged_in&&t(yt).length>0&&l(T)})}var N=r(wt,2);{var G=l=>{var i=Ia();i.__click=()=>h(bt,!1);var f=e(i);f.__click=b=>b.stopPropagation();var y=e(f),d=r(e(y),2);d.__click=()=>h(bt,!1),a(y);var g=r(y,2),c=e(g);{var P=b=>{var z=Sa();s(b,z)},D=b=>{var z=Ha(),C=e(z),k=e(C),R=r(e(k),2),B=e(R,!0);a(R),a(k);var H=r(k,2),q=r(e(H),2),X=e(q,!0);a(q),a(H);var m=r(H,2),M=r(e(m),2),I=e(M,!0);a(M),a(m);var Z=r(m,2),$=r(e(Z),2),K=e($,!0);a($),a(Z),a(C);var Q=r(C,2),tt=r(e(Q),2),dt=e(tt,!0);a(tt),a(Q);var ft=r(Q,2);{var st=S=>{var O=Ea(),n=r(e(O),2);Lt(n,21,()=>t(V).derp_latencies.slice(0,5),Mt,(p,j)=>{var U=Aa(),F=e(U),Y=e(F);a(F);var ct=r(F,2),ea=e(ct);a(ct),a(U),L(ra=>{_(Y,`Region ${t(j).region??""}`),_(ea,`${ra??""} ms`)},[()=>t(j).latency_ms.toFixed(1)]),s(p,U)}),a(n),a(O),s(S,O)};x(ft,S=>{var O;((O=t(V).derp_latencies)==null?void 0:O.length)>0&&S(st)})}a(z),L(()=>{W(R,1,t(V).udp?"text-green-400":"text-red-400"),_(B,t(V).udp?"Available":"Blocked"),W(q,1,t(V).ipv4?"text-green-400":"text-gray-400"),_(X,t(V).ipv4?"Yes":"No"),W(M,1,t(V).ipv6?"text-green-400":"text-gray-400"),_(I,t(V).ipv6?"Yes":"No"),W($,1,t(V).hair_pinning?"text-green-400":"text-yellow-400"),_(K,t(V).hair_pinning?"Yes":"No"),_(dt,t(V).preferred_derp||"None")}),s(b,z)};x(c,b=>{t(V)?b(D,!1):b(P)})}a(g),a(f),a(i),s(l,i)};x(N,l=>{t(bt)&&l(G)})}a(lt),s(vt,lt)},aa=vt=>{var lt=it(),_t=J(lt);{var xt=rt=>{var ut=qa(),gt=e(ut),ht=e(gt),Ct=r(e(ht),2);{var Vt=T=>{var N=Ua();s(T,N)},Rt=T=>{var N=it(),G=J(N);{var l=f=>{var y=Fa();s(f,y)},i=f=>{var y=Ga();s(f,y)};x(G,f=>{var y;(y=t(E))!=null&&y.container_running?f(l):f(i,!1)},!0)}s(T,N)};x(Ct,T=>{var N,G;(N=t(E))!=null&&N.container_running&&((G=t(E))!=null&&G.vpn_connected)?T(Vt):T(Rt,!1)})}a(ht),a(gt);var Dt=r(gt,2);{var Bt=T=>{var N=Ya();s(T,N)},wt=T=>{var N=Ja(),G=J(N),l=e(G),i=r(e(l),2),f=e(i,!0);a(i),a(l);var y=r(l,2),d=r(e(y),2),g=e(d,!0);a(d),a(y);var c=r(y,2),P=r(e(c),2),D=e(P);a(P),a(c);var b=r(c,2),z=r(e(b),2),C=e(z,!0);a(z),a(b),a(G);var k=r(G,2),R=e(k);R.__click=Xt,a(k),L(()=>{_(f,t(E).vpn_ip||"Connecting..."),_(g,t(E).vpn_provider),_(D,`${(t(E).vpn_country||"Unknown")??""} ${(t(E).vpn_city||"")??""}`),W(z,1,t(E).port_forwarded?"text-green-400":"text-gray-400"),_(C,t(E).port_forwarded||"None")}),s(T,N)};x(Dt,T=>{var N;(N=t(E))!=null&&N.container_running?T(wt,!1):T(Bt)})}a(ut),s(rt,ut)};x(_t,rt=>{t(nt)==="download"&&rt(xt)},!0)}s(vt,lt)};x(ot,vt=>{t(nt)==="remote"?vt(et):vt(aa,!1)},!0)}s(v,u)};x(Zt,v=>{t(Et)?v($t):v(ta,!1)})}a(zt),L(()=>{W(Tt,1,`px-4 py-2 rounded-t ${t(nt)==="remote"?"bg-gray-700 text-white":"text-gray-400 hover:text-white"}`),W(Ot,1,`px-4 py-2 rounded-t ${t(nt)==="download"?"bg-gray-700 text-white":"text-gray-400 hover:text-white"}`)}),s(Gt,zt),va()}sa(["click"]);export{re as component};
