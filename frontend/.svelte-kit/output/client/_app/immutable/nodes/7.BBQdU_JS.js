import{d as Nt,f as c,a as o,c as nt,s as l}from"../chunks/DhZLAEWt.js";import{o as Ut}from"../chunks/D-tgmMSQ.js";import{p as Vt,d as s,b as Ct,f as S,s as Y,e as Jt,$ as Lt,c as e,r as t,g as a,h as k,t as b,n as R}from"../chunks/N1otwjTT.js";import{i as u}from"../chunks/CWp393YG.js";import{e as ot,i as ct}from"../chunks/CxGl9W59.js";import{h as Ot,s as T}from"../chunks/DtPs97YY.js";import{s as zt}from"../chunks/DFr9IBvo.js";var At=c('<div class="text-gray-400">Loading media data...</div>'),Ht=c('<div class="card bg-red-900/20 border-red-700 text-red-400 svelte-14bqwv7"> </div>'),Kt=c('<div class="card text-center svelte-14bqwv7"><p class="text-3xl font-bold text-green-400"> </p> <p class="text-sm text-gray-400">Episodes</p></div> <div class="card text-center svelte-14bqwv7"><p> </p> <p class="text-sm text-gray-400">Streaming</p></div>',1),Pt=c('<div class="card svelte-14bqwv7"><div class="flex items-center justify-between"><div class="flex items-center gap-3"><span class="text-2xl">ðŸ“º</span> <div><h3 class="font-semibold">Jellyfin Server</h3> <p class="text-sm text-gray-400"> </p></div></div> <div class="text-right"><span class="text-xs px-2 py-1 bg-green-500/20 text-green-400 rounded">Online</span> <p class="text-xs text-gray-500 mt-1"> </p></div></div></div>'),Qt=c('<p class="text-gray-500 text-sm">No recent movies</p>'),Wt=c('<span class="px-1 bg-gray-600 rounded"> </span>'),Xt=c('<div class="p-3 bg-gray-700/50 rounded"><div class="flex items-center justify-between"><span class="font-medium text-sm truncate flex-1 mr-2"> </span> <span> </span></div> <div class="flex items-center gap-2 mt-1 text-xs text-gray-400"><span> </span> <!></div></div>'),Yt=c('<div class="space-y-2"></div>'),Zt=c('<p class="text-gray-500 text-sm">No recent episodes</p>'),te=c('<span class="px-1 bg-gray-600 rounded"> </span>'),ee=c('<div class="p-3 bg-gray-700/50 rounded"><div class="flex items-center justify-between"><span class="font-medium text-sm truncate flex-1 mr-2"> </span> <span> </span></div> <div class="flex items-center gap-2 mt-1 text-xs text-gray-400"><span> </span> <!></div></div>'),ae=c('<div class="space-y-2"></div>'),se=c('<div class="card svelte-14bqwv7"><h3 class="text-lg font-semibold mb-4">External Storage</h3> <div class="mb-2 flex justify-between text-sm"><span> </span> <span> </span> <span> </span></div> <div class="w-full bg-gray-700 rounded-full h-4"><div></div></div> <p class="text-xs text-gray-500 mt-2"> </p></div> <div class="grid grid-cols-2 md:grid-cols-4 gap-4"><div class="card text-center svelte-14bqwv7"><p class="text-3xl font-bold text-blue-400"> </p> <p class="text-sm text-gray-400">Movies</p></div> <div class="card text-center svelte-14bqwv7"><p class="text-3xl font-bold text-purple-400"> </p> <p class="text-sm text-gray-400">TV Shows</p></div> <!></div> <!> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class="card svelte-14bqwv7"><h3 class="text-lg font-semibold mb-4">Recent Movies</h3> <!></div> <div class="card svelte-14bqwv7"><h3 class="text-lg font-semibold mb-4">Recent TV Episodes</h3> <!></div></div>',1),re=c('<div class="space-y-6"><div class="flex items-center justify-between"><div><h2 class="text-2xl font-bold">Media Center</h2> <p class="text-sm text-gray-500">Storage, library stats, and recent downloads</p></div> <button class="text-sm text-blue-400 hover:text-blue-300">Refresh</button></div> <!></div>');function pe(pt,xt){Vt(xt,!0);let Z=Y(!0),v=Y(null),I=Y(null);async function B(){try{const n=await fetch("/api/media/overview");n.ok?S(v,await n.json(),!0):S(I,"Failed to load media data")}catch(n){S(I,n.message,!0)}finally{S(Z,!1)}}Ut(()=>{B();const n=setInterval(B,3e4);return()=>clearInterval(n)});function D(n){return n>=1e3?(n/1e3).toFixed(2)+" TB":n.toFixed(1)+" GB"}var E=re();Ot("14bqwv7",n=>{Jt(()=>{Lt.title="Media - RouterUI"})});var G=e(E),_t=s(e(G),2);_t.__click=B,t(G);var gt=s(G,2);{var ft=n=>{var M=At();o(n,M)},ut=n=>{var M=nt(),mt=k(M);{var bt=q=>{var j=Ht(),N=e(j,!0);t(j),b(()=>l(N,a(I))),o(q,j)},yt=q=>{var j=nt(),N=k(j);{var ht=U=>{var tt=se(),V=k(tt),C=s(e(V),2),J=e(C),wt=e(J);t(J);var L=s(J,2),qt=e(L);t(L);var et=s(L,2),jt=e(et);t(et),t(C);var O=s(C,2),at=e(O);t(O);var st=s(O,2),$t=e(st);t(st),t(V);var z=s(V,2),A=e(z),rt=e(A),Ft=e(rt,!0);t(rt),R(2),t(A);var H=s(A,2),vt=e(H),It=e(vt,!0);t(vt),R(2),t(H);var Mt=s(H,2);{var St=i=>{var d=Kt(),_=k(d),r=e(_),g=e(r,!0);t(r),R(2),t(_);var p=s(_,2),x=e(p),m=e(x,!0);t(x),R(2),t(p),b(()=>{l(g,a(v).jellyfin.episode_count),T(x,1,`text-3xl font-bold ${a(v).jellyfin.active_streams>0?"text-yellow-400":"text-gray-500"}`),l(m,a(v).jellyfin.active_streams)}),o(i,d)};u(Mt,i=>{a(v).jellyfin&&i(St)})}t(z);var it=s(z,2);{var kt=i=>{var d=Pt(),_=e(d),r=e(_),g=s(e(r),2),p=s(e(g),2),x=e(p,!0);t(p),t(g),t(r);var m=s(r,2),f=s(e(m),2),$=e(f);t(f),t(m),t(_),t(d),b(()=>{l(x,a(v).jellyfin.server_name),l($,`v${a(v).jellyfin.version??""}`)}),o(i,d)};u(it,i=>{a(v).jellyfin&&i(kt)})}var dt=s(it,2),K=e(dt),Rt=s(e(K),2);{var Tt=i=>{var d=Qt();o(i,d)},Bt=i=>{var d=Yt();ot(d,21,()=>a(v).recent_movies,ct,(_,r)=>{var g=Xt(),p=e(g),x=e(p),m=e(x,!0);t(x);var f=s(x,2),$=e(f,!0);t(f),t(p);var F=s(p,2),y=e(F),P=e(y,!0);t(y);var Q=s(y,2);{var W=h=>{var w=Wt(),X=e(w,!0);t(w),b(()=>l(X,a(r).quality)),o(h,w)};u(Q,h=>{a(r).quality&&h(W)})}t(F),t(g),b(()=>{l(m,a(r).title),T(f,1,`text-xs px-2 py-0.5 rounded ${a(r).status==="Imported"?"bg-green-500/20 text-green-400":a(r).status==="Downloading"?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`),l($,a(r).status),l(P,a(r).date)}),o(_,g)}),t(d),o(i,d)};u(Rt,i=>{a(v).recent_movies.length===0?i(Tt):i(Bt,!1)})}t(K);var lt=s(K,2),Dt=s(e(lt),2);{var Et=i=>{var d=Zt();o(i,d)},Gt=i=>{var d=ae();ot(d,21,()=>a(v).recent_shows,ct,(_,r)=>{var g=ee(),p=e(g),x=e(p),m=e(x,!0);t(x);var f=s(x,2),$=e(f,!0);t(f),t(p);var F=s(p,2),y=e(F),P=e(y,!0);t(y);var Q=s(y,2);{var W=h=>{var w=te(),X=e(w,!0);t(w),b(()=>l(X,a(r).quality)),o(h,w)};u(Q,h=>{a(r).quality&&h(W)})}t(F),t(g),b(()=>{l(m,a(r).title),T(f,1,`text-xs px-2 py-0.5 rounded ${a(r).status==="Imported"?"bg-green-500/20 text-green-400":a(r).status==="Downloading"?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`),l($,a(r).status),l(P,a(r).date)}),o(_,g)}),t(d),o(i,d)};u(Dt,i=>{a(v).recent_shows.length===0?i(Et):i(Gt,!1)})}t(lt),t(dt),b((i,d,_,r)=>{l(wt,`Used: ${i??""}`),l(qt,`Free: ${d??""}`),l(jt,`Total: ${_??""}`),T(at,1,`h-4 rounded-full ${a(v).storage.percent_used>90?"bg-red-500":a(v).storage.percent_used>70?"bg-yellow-500":"bg-blue-500"}`),zt(at,`width: ${a(v).storage.percent_used??""}%`),l($t,`${a(v).storage.mount_point??""} - ${r??""}% used`),l(Ft,a(v).library.movies),l(It,a(v).library.tv_shows)},[()=>D(a(v).storage.used_gb),()=>D(a(v).storage.free_gb),()=>D(a(v).storage.total_gb),()=>a(v).storage.percent_used.toFixed(1)]),o(U,tt)};u(N,U=>{a(v)&&U(ht)},!0)}o(q,j)};u(mt,q=>{a(I)?q(bt):q(yt,!1)},!0)}o(n,M)};u(gt,n=>{a(Z)?n(ft):n(ut,!1)})}t(E),o(pt,E),Ct()}Nt(["click"]);export{pe as component};
